# checkports

Checkports - скрипт для проверки статуса портов на коммутаторах D-Link. По умолчанию был написан под интеграцию с Zabbix, но так же можно использовать для проверки из терминала (см. содержание скрипта). Информацию запрашивает по SNMP, требуется указать в скрипте название Вашего  SNMP-community. OID'ы использует стандартные, которые подходят практически ко всем моделям данного вендора. При желании заменив OID'ы в скрипте, его можно использовать для проверки коммутаторов других вендоров.

Зависимости:
- dialog (для консольной версии)
- snmpwalk

Установка:
- скопируйте скрипт в удобную директорию (для Zabbix в /usr/lib/zabbix/externalscripts) и там же создайте файл out.txt
- дайте Zabbix права на изменение данных файлов (chown zabbix:zabbix *)
- дайте Zabbix права на выпонение скрипта (chmod +x checkports.sh)
- добавьте скрипт в Zabbix. 
Администрирование - Скрипты - Создать скрипт -
Имя:
"Checkports"
Команды:
"/usr/lib/zabbix/externalscripts/checkports.sh {HOST.CONN}"
"cat /usr/lib/zabbix/externalscripts/out.txt"
- нажмите на иконку узла сети на карте и выберите Checkports
